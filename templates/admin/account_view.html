{% extends "layouts/main_layout.html" %}

{% block title %}Account Details{% endblock %}

{% block content %}
<div style="max-width: 900px; margin: 0 auto;">
    <!-- Header Banner -->
    <div class="Controls" style="margin-top: 20px;">
        <div>
            <div class="Controls-title">A-014 | Huda Bakather</div>
            <div class="Controls-subtitle">Administrator â€¢ Admin Department</div>
        </div>
        <div style="display: flex; gap: 10px;">
            <button class="button-secondary" onclick="window.location.href='accounts.html'">Back</button>
            <button class="button-primary" onclick="saveChanges()">Save Changes</button>
        </div>
    </div>

    <!-- Account Information -->
    <div
        style="background: white; padding: 30px; border-radius: 10px; margin: 20px 0; box-shadow: 0px 1px 3px rgba(0,0,0,0.2);">
        <h3 class="subheadings">Account Information</h3>

        <form id="accountForm">
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-top: 20px;">
                <div>
                    <div style="font-size: 14px; color: var(--navy); font-weight: 600; margin-bottom: 8px;">Account ID
                    </div>
                    <input type="text" value="A-014" disabled
                        style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; background-color: var(--whtish); box-sizing: border-box;">
                </div>
                <div>
                    <div style="font-size: 14px; color: var(--navy); font-weight: 600; margin-bottom: 8px;">Account
                        Status</div>
                    <div style="padding: 10px; background: var(--mint); border-radius: 5px;">
                        <span
                            style="display: inline-block; width: 12px; height: 12px; background-color: #4caf50; border-radius: 50%; margin-right: 8px;"></span>
                        <span>Active</span>
                    </div>
                </div>
                <div>
                    <div style="font-size: 14px; color: var(--navy); font-weight: 600; margin-bottom: 8px;">First Name
                    </div>
                    <input type="text" name="first_name" value="Huda" required
                        style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;">
                </div>
                <div>
                    <div style="font-size: 14px; color: var(--navy); font-weight: 600; margin-bottom: 8px;">Last Name
                    </div>
                    <input type="text" name="last_name" value="Bakather" required
                        style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;">
                </div>
                <div>
                    <div style="font-size: 14px; color: var(--navy); font-weight: 600; margin-bottom: 8px;">Username
                    </div>
                    <input type="text" name="username" value="huda" required
                        style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;">
                </div>
                <div>
                    <div style="font-size: 14px; color: var(--navy); font-weight: 600; margin-bottom: 8px;">Email</div>
                    <input type="email" name="email" value="huda.bakather@hospital.ae" required
                        style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;">
                </div>
                <div>
                    <div style="font-size: 14px; color: var(--navy); font-weight: 600; margin-bottom: 8px;">Phone Number
                    </div>
                    <input type="tel" name="phone" value="506001136" required
                        style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;">
                </div>
                <div>
                    <div style="font-size: 14px; color: var(--navy); font-weight: 600; margin-bottom: 8px;">Date Created
                    </div>
                    <input type="text" value="Jan 15, 2025" disabled
                        style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; background-color: var(--whtish); box-sizing: border-box;">
                </div>
                <div>
                    <div style="font-size: 14px; color: var(--navy); font-weight: 600; margin-bottom: 8px;">Role</div>
                    <select name="role" required
                        style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;">
                        <option value="administrator" selected>Administrator</option>
                        <option value="physician">Physician</option>
                        <option value="lab_admin">Lab Administrator</option>
                        <option value="data_clerk">Data Receptionist</option>
                        <option value="researcher">Researcher</option>
                    </select>
                </div>
                <div>
                    <div style="font-size: 14px; color: var(--navy); font-weight: 600; margin-bottom: 8px;">Department
                    </div>
                    <select name="department" required
                        style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;">
                        <option value="admin" selected>Admin</option>
                        <option value="obgyn">OBGYN</option>
                        <option value="pediatrics">Pediatrics</option>
                        <option value="laboratory">Laboratory</option>
                        <option value="reception">Reception</option>
                        <option value="research">Research</option>
                    </select>
                </div>
            </div>

            <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 25px;">
                <button type="button" class="button-secondary"
                    onclick="window.location.href='accounts.html'">Cancel</button>
                <button type="button" style="background-color: var(--coral);" onclick="deactivateAccount()">Deactivate
                    Account</button>
                <button type="submit" class="button-primary">Save Changes</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
{{ super() }}

<script>
    document.getElementById('accountForm').addEventListener('submit', function (e) {
        e.preventDefault();

        const formData = new FormData(e.target);
        const data = Object.fromEntries(formData);

        console.log('Saving account data:', data);
        showAppDialog('Account updated successfully!');
        window.location.href = 'accounts.html';
    });

    function deactivateAccount() {
        if (confirm('Are you sure you want to deactivate this account? This action can be reversed later.')) {
            console.log('Deactivating account A-014');
            showAppDialog('Account deactivated successfully!');
            window.location.href = 'accounts.html';
        }
    }
</script>
{% endblock %}